module.exports.config = {
    name: "join",
    eventType: ["log:subscribe"],
    version: "1.0.0",
    credits: "Rakib",
    description: "Welcome new members with a nice text message"
};

module.exports.run = async function({ api, event }) {
    const { threadID, logMessageData } = event;
    const addedParticipants = logMessageData.addedParticipants;

    for (let user of addedParticipants) {
        let name = user.fullName || "New Member";
        let msg = `
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ЁЯМЯ ЁЭЧкЁЭЧ▓ЁЭЧ╣ЁЭЧ░ЁЭЧ╝ЁЭЧ║ЁЭЧ▓ ЁЭЧзЁЭЧ╝ ЁЭЧзЁЭЧ╡ЁЭЧ▓ ЁЭЧЪЁЭЧ┐ЁЭЧ╝ЁЭШВЁЭЧ╜ ЁЯМЯ

ЁЯСЛ рж╣рзНржпрж╛рж▓рзЛ ${name}!
рждрзБржорж┐ ржПржЦржи ржЖржорж╛ржжрзЗрж░ ржкрж░рж┐ржмрж╛рж░рзЗрж░ ржПржХржЬржи рж╕ржжрж╕рзНржпред  
ржПржЦрж╛ржирзЗ ржоржЬрж╛ ржХрж░рзЛ, рж╢рж┐ржЦрзЛ ржЖрж░ рж╕ржХрж▓рзЗ ржорж┐рж▓рзЗржорж┐рж╢рзЗ ржерзЗржХрзЛ тЭдя╕П

ЁЯУМ ржжржпрж╝рж╛ ржХрж░рзЗ ржЧрзНрж░рзБржкрзЗрж░ ржирж┐ржпрж╝ржо ржорзЗржирзЗ ржЪрж▓ржмрзЗред  
ржЧрзНрж░рзБржкржЯрж╛ рж░рж╛ржХрж┐ржм ржорж╣рж╛рж░рж╛ржЬрж╛рж░, ржПржЦрж╛ржирзЗ ржЬржпрж╝рзЗржи ржирж┐ржЬрзЗ ржЗржЪрзНржЫрж╛ржпрж╝ ржХрж░рж╛ ржпрж╛ржпрж╝ ржХрж┐ржирзНрждрзБ ржЧрзНрж░рзБржк ржерзЗржХрзЗ рж▓рж┐ржн ржирж┐рждрзЗ ржорж╣рж╛рж░рж╛ржЬрж╛рж░ ржЕржирзБржорждрж┐ рж▓рж╛ржЧрзЗред ржорж╣рж╛рж░рж╛ржЬрж╛рж░ ржЕржирзБржорждрж┐ ржЫрж╛ржбрж╝рж╛ ржЧрзНрж░рзБржк ржерзЗржХрзЗ ржХрзЗржЙ ржмрзЗрж░ рж╣рждрзЗ ржкрж╛рж░ржмрзЗржи ржирж╛ред 
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тЬи Enjoy your stay!
        `;

        api.sendMessage(msg, threadID);
    }
};
